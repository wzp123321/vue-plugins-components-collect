<div class="basic-param-config">
  <page-common title="评价参数配置" :showSearch="true" :isSubHead="true">
    <template v-slot:pageSearch>
      <!-- 头部 -->
      <el-form :inline="true" :model="queryParams" class="demo-form-inline">
        <el-form-item label="采样名称">
          <el-select v-model="queryParams.energyCode">
            <el-option v-for="item in energylList" :key="item.id" :label="item.name" :value="item.code"> </el-option>
          </el-select>
        </el-form-item>
        <el-form-item>
          <el-button type="primary" @click="getBasicParamConfigList">查询</el-button>
          <el-button @click="onReset">重置</el-button>
        </el-form-item>
      </el-form>
    </template>
    <template v-slot:pageSubHead>
      <!--  -->
      <el-button type="primary" v-if="!basicParam" @click="onAddDialogShow" size="small">新 增</el-button>
    </template>
    <template v-slot:pageContent>
      <div v-loading="loading" style="height: calc(100% - 68px)">
        <el-table :data="dataSource" style="width: 100%" v-show="!loading">
          <el-table-column prop="index" label="序号" width="100" align="center">
            <template #default="scope"
              >{{ (queryParams.pageNum - 1) * queryParams.pageSize + scope.$index + 1 }}</template
            >
          </el-table-column>
          <el-table-column prop="energyCodeName" label="采样名称" width="120" show-overflow-tooltip></el-table-column>
          <el-table-column prop="seasonName" label="季节名称" show-overflow-tooltip></el-table-column>
          <el-table-column prop="alarmUpper" label="告警上限" show-overflow-tooltip></el-table-column>
          <el-table-column prop="comfortableUpper" label="舒适上限" show-overflow-tooltip></el-table-column>
          <el-table-column prop="comfortableLower" label="舒适下限" show-overflow-tooltip></el-table-column>
          <el-table-column prop="alarmLower" label="告警下限" show-overflow-tooltip></el-table-column>
          <el-table-column prop="weight" label="权重" show-overflow-tooltip></el-table-column>
          <el-table-column prop="address" label="操作" width="200" align="center">
            <template #default="scope">
              <span class="operate-span mr16" @click="onEnergyCodeUpdate(scope.row)">修改</span>
              <span class="delete-span" @click="onEnergyCodeDelete(scope.row.id)">删除</span>
            </template>
          </el-table-column>
        </el-table>
        <ems-pagination
          v-show="!loading && total>0"
          :current-page="queryParams.pageNum"
          :page-sizes="pageSizes"
          @size-change="onPageSizeChange"
          @current-change="onCurrentChange"
          :page-size="queryParams.pageSize"
          :total="total"
        ></ems-pagination>
      </div>
      <!-- <no-data v-else></no-data> -->
    </template>
  </page-common>
</div>
<AddAndEditDialog
  ref="dialogRef"
  :basicParamConfigDetail="basicParamConfigDetail"
  :isAddFlag="isAddFlag"
  :energylList="energylList"
  :seasonList="seasonList"
  @success="getBasicParamConfigList"
  :key="nums"
  :dialogOpen="dialogOpen"
>
</AddAndEditDialog>

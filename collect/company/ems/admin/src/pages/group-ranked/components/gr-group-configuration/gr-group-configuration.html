<div v-drag>
  <el-dialog
    :title="isAddFlag? '新增分组': '编辑分组'"
    v-model="dialogFormVisible"
    width="960px"
    :modal="false"
    :before-close="onBeforeClose"
    :close-on-click-modal="false"
  >
    <div class="group-configuration flex">
      <div class="group-configuration-tree" style="width: 380px">
        <TreeCheck :multiple="true" v-model:treeType="treeType" v-model:checkedKeys="treeIdList" :limit="10">
        </TreeCheck>
      </div>
      <div class="group-configuration-table">
        <div class="flex-row-justify-center">
          <span
            style="max-width: 252px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap"
            :title="pageForm.name"
            >分组名称：{{ pageForm.name }}</span
          >
          <span
            style="max-width: 252px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap"
            :title="pageForm.energyName"
            >分类分项：{{ pageForm.energyName }}</span
          >
        </div>
        <el-table :data="dataSource" style="width: 100%" v-loading="loading">
          <el-table-column prop="index" label="序号" width="80" align="center">
            <template #default="scope"> {{ scope.$index + 1 }} </template>
          </el-table-column>
          <el-table-column prop="name" label="节点名称" align="center" show-overflow-tooltip> </el-table-column>
          <el-table-column prop="address" label="操作" width="100" align="center">
            <template #default="scope">
              <span class="delete-span" @click="onEnergyCodeDelete(scope.row.groupTreeId, scope.row.treeId)">删除</span>
            </template>
          </el-table-column>
        </el-table>
      </div>
    </div>
    <template #footer>
      <div class="dialog-footer" style="text-align: center">
        <el-button @click="dialogFormVisible = false">取消</el-button>
        <el-button type="primary" @click="onSubmit">确定</el-button>
      </div>
    </template>
  </el-dialog>
</div>
